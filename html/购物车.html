<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>购物车</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	<style>
		html { color: #000; background: #fff; overflow-y: scroll; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; } html * { outline:none; -webkit-text-size-adjust: none; -webkit-tap-highlight-color:rgba(0,0,0,0); } html, body { font-family: sans-serif; } /* 内外边距通常让各个浏览器样式的表现位置不同 */ body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, hr, button, article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { margin: 0; padding: 0; } input, select, textarea { font-size: 100%; } /* 去掉各 Table cell 的边距并让其边重合 */ table { border-collapse: collapse; border-spacing: 0; } /* 去除默认边框 */ fieldset, img { border: 0; } /* 去掉 firefox 下此元素的边框 */ abbr, acronym { border: 0; font-variant: normal; } /* 一致的 del 样式 */ del { text-decoration: line-through; } address, caption, cite, code, dfn, em, th, var { font-style: normal; font-weight: 500; } /* 去掉列表前的标识, li 会继承 */ ol, ul { list-style: none; } /* 对齐是排版最重要的因素, 别让什么都居中 */ caption, th { text-align: left; } /* 来自 yahoo, 让标题都自定义, 适应多个系统应用 */ h1, h2, h3, h4, h5, h6 { font-size: 100%; font-weight: 500; } q:before, q:after { content: ''; } /* 统一上标和下标 */ sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } sup { top: -0.5em; } sub { bottom: -0.25em; } /* 正常链接 未访问 */ a:link { } /* 鼠标悬停 */  /* 默认不显示下划线，保持页面简洁 */ ins, a { text-decoration: none; }
		html{font-size: 100px;
		}
		body {width: 100%;background: rgb(230,229,221);font-family: arial;}
		.head {width:100%;height: .9rem;background-image: url(../imgs/031headbg.png);background-size: 100% 100%;background-repeat: no-repeat;position: fixed;top: 0;left: 0;font-size: 0;z-index: 100;}
		.to03 {display: block;position: absolute;top: .27rem;left: .3rem;background-image: url(../imgs/to03.png);background-size: 100% 100%;background-repeat: no-repeat;width: .21rem;height: .39rem;}
		.kezuo {height: .9rem;display: block;color: white;font-size: .33rem;line-height: .9rem;text-align: center;}
		.bianji {display: block;position: absolute;height: .9rem;font-size: .24rem;color: white;top: .33rem;right: .31rem;}
		.headmark {width:7.5rem;height: .86rem;}
		.contain {width: 100%;padding-top: .27rem;box-sizing: border-box;padding-left: .26rem;padding-right: .3rem;overflow: hidden;padding-bottom: .95rem;}
		.goods {width:100%;height: 2.4rem;margin-bottom: .21rem;position: relative;background: white;box-shadow: 1px 1px .06rem .025rem rgb(213,211,198); }
		.select {position: absolute;width: .3rem;height: .3rem;border-radius: 50%;box-sizing: border-box;border: .03rem solid rgb(79,79,79);top: 50%;margin-top: -.15rem;margin-left: .18rem;cursor: pointer;}
		.green{position: absolute;right: 0;left: 0;margin: .028rem auto;border-radius: 50%;width: .2rem;height: .2rem;}
		.greens{background: rgb(60,169,43);}
		.pic {width: 2.03rem;height: 2rem;position: absolute;top: .2rem;left: .66rem;font-size: 0;}
		.pic img{width: 100%;height: 100%;}
		.pingjia {position: absolute;font-size: 0;top: .29rem;left: 3.05rem;}
		.pingjia span:nth-child(1){font-size: .26rem;color: rgb(32,31,31);display: block;}
		.pingjia span:nth-child(2){font-size: .2rem;color: rgb(31,31,31);display: block;margin-top: .16rem;}
		.money{position: absolute;top: 1.92rem;left: 3.05rem;font-size: .32rem;color: rgb(239,0,9);}
		.count {position: absolute;top: 1.85rem;right: .22rem;box-sizing: border-box;border: .03rem solid rgb(91,91,91);border-radius: .04rem;font-size: 0;height: .31rem;width: 1.03rem;cursor: pointer;display: none;}
		.count span:nth-child(1){display: block;float: left;width: 33.3%;height: .31rem;line-height: .31rem;text-align: center;font-size: .18rem;color: rgb(117,117,117);}
		.count span:nth-child(2){display: block;float: right;width: 33.3%;height: .31rem;line-height: .31rem;text-align: center;font-size: .18rem;color: rgb(117,117,117);}
		.count span:nth-child(3){display: block;float: right;width: 33.3%;height: .31rem;line-height: .31rem;text-align: center;font-size: .18rem;color: rgb(117,117,117);}
		.count span:nth-child(3):before{content: '';width: .02rem;height: .26rem;position: absolute;background: rgb(232,233,232);left: .3rem;top: 0;}
		.count span:nth-child(3):after{content: '';width: .02rem;height: .26rem;position: absolute;background: rgb(232,233,232);left: .64rem;top: 0;}
		.foot{width: 100%;height: .95rem;position: fixed;bottom: 0;left: 0;font-size: 0;}
		.sum {width: 5.5rem;height: .95rem;background: rgba(55,42,32,.8);position: absolute;}
		.allselect{position: absolute;font-size: 0;top: .37rem;left: .3rem;height: .3rem;}
		.allselect span {display: block;float: left;height: .3rem;}
		.whitecircle{width: .3rem;height: .3rem;box-sizing: border-box;border: .03rem solid white;background: transparent;border-radius: 50%;}
		.whitegreen{background: rgb(60,169,43); }
		.allselect span:nth-child(2){height: .3rem;line-height: .35rem;font-size: .24rem;color: white;margin-left: .11rem;}

		.total{position: absolute;font-size: 0;top: .2rem;left: 1.72rem;}
		.totalup span{font-size: .28rem;color: white;}
		.totalup{margin-bottom: .06rem;}
		.totaldown span{font-size: .18rem;color: white;}
		.foot a{display: block;position: absolute;right: 0;top: 0;width: 2rem;height: .95rem;line-height: .95rem;font-size: .34rem;color: white;background: rgb(241,71,45);text-align: center;}
		.foot span {font-size: .18rem;}

	</style>
</head>
<body>
	<div class="head">
		<a href="javacript:void(0);" class="to03"></a>
		<span class="kezuo">购物车</span>
		<a href="javacript:void(0);" class="bianji">编辑</a>
	</div>
	<div class="headmark"></div>
	<div class="contain">
		<div class="goods">
			<div class="select">
				<div class="green"></div>
			</div>
			<div class="pic"><img src="../imgs/car1.png" alt=""></div>
			<div class="pingjia"><span>科尔沁牛腩切块500g</span><span>脂肪少，适合炖汤</span></div>
			<div class="money"><span>￥</span><span class="moneys">21.80</span></div>
			<div class="count"><span class="minus">-</span><span class="pluss">+</span><span class="plus">1</span></div>
		</div>
		<div class="goods">
			<div class="select">
				<div class="green"></div>
			</div>
			<div class="pic"><img src="../imgs/car2.png" alt=""></div>
			<div class="pingjia"><span>精选有机胡萝卜300g</span><span>胡萝卜富含维生素</span></div>
			<div class="money"><span>￥</span><span class="moneys">8.60</span></div>
			<div class="count"><span class="minus">-</span><span class="pluss">+</span><span class="plus">2</span></div>
		</div>
		<div class="goods">
			<div class="select">
				<div class="green"></div>
			</div>
			<div class="pic"><img src="../imgs/car3.png" alt=""></div>
			<div class="pingjia"><span>精选本地豆角300g</span><span>富有维生素和矿物质等</span></div>
			<div class="money"><span>￥</span><span class="moneys">10.02</span></div>
			<div class="count"><span class="minus">-</span><span class="pluss">+</span><span class="plus">2</span></div>
		</div>
		<div class="goods">
			<div class="select">
				<div class="green"></div>
			</div>
			<div class="pic"><img src="../imgs/car4.png" alt=""></div>
			<div class="pingjia"><span>精选本地柿子椒500g</span><span>它可以防治坏血病</span></div>
			<div class="money"><span>￥</span><span class="moneys">15.80</span></div>
			<div class="count"><span class="minus">-</span><span class="pluss">+</span><span class="plus">2</span></div>
		</div>
		<div class="goods">
			<div class="select">
				<div class="green"></div>
			</div>
			<div class="pic"><img src="../imgs/car5.png" alt=""></div>
			<div class="pingjia"><span>精选大闸蟹500g</span><span>它可以防治坏血病</span></div>
			<div class="money"><span>￥</span><span class="moneys">99.99</span></div>
			<div class="count"><span class="minus">-</span><span class="pluss">+</span><span class="plus">1</span></div>
		</div>
	</div>
	<div class="foot">
		<div class="sum">
			<div class="allselect">
				<span class="whitecircle"></span>
				<span>全选</span>
			</div>
			<div class="total">
				<div class="totalup"><span>合计：￥</span><span class="total1">0</span></div>
				<div class="totaldown"><span>总额：</span><span class="total2">0</span></div>
			</div>
		</div>
		<a href="javascript:void(0);">去结算<span class="all">(0)</span></a>
	</div>
</body>
<script src="../jq/jquery.min.js"></script>
<script>
!function(e,t){
	function n(){
		var n=l.getBoundingClientRect().width;
		t||(t=540),n>t&&(n=t);
		var o=100*n/e;
		if(d="html{font-size:"+o+"px !important}",i=document.getElementById("rootsize")||document.createElement("style"),document.getElementById("rootsize")||(document.getElementsByTagName("head")[0].appendChild(i),i.id="rootsize"),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=d);
		else try{i.innerHTML=d}
			catch(s){i.innerText=d}l.style.fontSize=o+"px"
	}
	var o,i,d,s=document,a=window,l=s.documentElement;
	n(),
	a.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(n,300)},!1),
	a.addEventListener("pageshow",function(e){
		e.persisted&&(clearTimeout(o),o=setTimeout(n,300))
	},!1),
	"complete"===s.readyState?s.body.style.fontSize="100px":s.addEventListener("DOMContentLoaded",function(e){
		s.body.style.fontSize="100px"
	},!1)
}(750,1296);
// 
// 点击编辑 编辑框出现
$('.bianji').click(function(){
	$('.count').show();
	bian();
})
// 按+添加
$('span.pluss').click(function(){
	$(this).parent().find('span.plus').text(parseInt($(this).parent().find('span.plus').text())+1);
	bian();
	// 钱的变化
	$('.total1').text(eval($('.total1').text()+'+'+$(this).parents('.goods').find('span.moneys').text()).toFixed(2));
	$('.total2').text($('.total1').text());
})
// 按-减少
$('span.minus').click(function(){
	$(this).parent().find('span.plus').text(parseInt($(this).parent().find('span.plus').text())-1);
	bian();
	// 钱的变化
	$('.total1').text(eval($('.total1').text()+'-'+$(this).parents('.goods').find('span.moneys').text()).toFixed(2));
	$('.total2').text($('.total1').text());
})
// 当中间数为1的时候 右边的减号消失
function bian(){
	$('span.plus').each(function(){
		if($(this).text()==1){
			$(this).parent().find('span.minus').hide();
		}
		if ($(this).text()>1){
			$(this).parent().find('span.minus').show();
		}
	})
}

// 按前面圆圈选择+结算数的变化
$('.select').on('click','.green',function(){
	$(this).toggleClass('greens'); 
	
	$('.all').text('('+parseInt($('.greens').length)+')');
	$('.whitecircle').removeClass('whitegreen');
	if (!$(this).hasClass('greens')) {
		$('.total1').text(eval($('.total1').text()+'-'+$(this).parents('.goods').find('span.moneys').text()).toFixed(2));
		$('.total2').text($('.total1').text());
	}else if ($(this).hasClass('greens')) {
		$('.total1').text(eval($('.total1').text()+'+'+$(this).parents('.goods').find('span.plus').text()*$(this).parents('.goods').find('span.moneys').text()).toFixed(2));
		$('.total2').text($('.total1').text());
	}
	
	                                                                    
})
// 全选+结算数的变化
$('.allselect').click(function(){
	$('.whitecircle').toggleClass('whitegreen');
	if ($('.whitecircle').hasClass('whitegreen')) {
		$('.green').addClass('greens');
		var s = 0;
		$('.goods').each(function(){
			
			s=$(this).find('span.plus').text()*$(this).find('span.moneys').text();
		})
		s+=s;
		$('.total1').text(s);
			$('.total2').text($('.total1').text());
	}
	if ($('.whitecircle').hasClass('whitegreen')==false){
		$('.green').removeClass('greens');
		$('.total1').text('0');
		$('.total2').text($('.total1').text());
	}
	$('.all').text('('+parseInt($('.greens').length)+')');
})
// 
$('.to03').click(function(){
	history.back();
})
</script>
</html>